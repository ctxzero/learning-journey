# 2025-08-12 | Nmap â€“ Live Host Discovery

---

### About Me: ctxzero

Today I focused on **Nmap host discovery** and network basics.  
Learning how to find **live hosts**, check **open ports**, and understand network structures is essential before scanning for vulnerabilities.

---

## ğŸ” Ports & Protocols (Basics)

- **Port = door to a house** (house = IP address, door = port number)  
- Different doors â†’ different services  

Examples:  
- Port 80 (TCP) â†’ HTTP (web server, e.g., Apache/Nginx)  
- Port 443 (TCP) â†’ HTTPS (HTTP over TLS/SSL)  
- Port 22 (TCP) â†’ SSH (remote login)  

**Why it matters:** Knowing the service tells you what kind of attacks are possible.

---

## ğŸ” ICMP, Ping & Ping Scans

- **ICMP (Internet Control Message Protocol):** network diagnostic messages  
- **Ping:** sends ICMP Echo Request to check if a host is reachable  
- **Ping-Scan in Nmap (-sn):** checks which IPs are alive  

**TCP/UDP Ping:**  
- TCP Ping â†’ send TCP packets to a port (e.g., 80)  
- Advantage â†’ bypasses firewalls that block ICMP  

**Scans that donâ€™t require root/admin:**  
- TCP Connect Scan (-sT) â†’ OS handles connection, no raw packets needed  

---

## ğŸ” ARP Scan (Local Network Only)

- **ARP = Address Resolution Protocol**  
- Maps IPs to MAC addresses in the local subnet  
- Faster & more reliable than ICMP ping in LAN  
- Nmap automatically does ARP when scanning local IPs  

---

## ğŸ” Subnets & CIDR (/29, /30, etc.)

- IPv4 = 32 bits (e.g., 192.168.1.10)  
- `/X` = bits reserved for network  
- Remaining bits â†’ host addresses  
- Formula: `2^(hostbits) - 2` = usable hosts  

Examples:  
- /29 â†’ 3 host bits â†’ 2^3 - 2 = 6 hosts  
- /30 â†’ 2 host bits â†’ 2^2 - 2 = 2 hosts  
- /16 â†’ 16 host bits â†’ 2^16 - 2 = 65534 hosts  

**Why not 0 or 1?** First IP = network, last IP = broadcast, cannot assign.

---

## ğŸ” Broadcast & Why It Matters

- **Broadcast address** = message to all hosts in subnet  
- Example: 192.168.1.255 (/24) â†’ packet to everyone  
- Useful for network discovery, but noisy â†’ triggers IDS/IPS

---

## ğŸ” Practical Pentesting Flow

- You are inside a network â†’ want to see what else is alive:  

1. ARP scan â†’ find all devices in LAN quickly  
2. Ping scan / TCP ping â†’ check hosts that block ICMP  
3. Nmap port scan â†’ find open ports (e.g., `nmap -sS -p- IP`)  
4. Analyze services â†’ find potential exploits  

---

## âœ… Key Takeaways

- **Ports:** doors for services â†’ know which service is running  
- **ICMP/Ping:** quick reachability test, often blocked  
- **ARP:** LAN-only, fast & reliable  
- **CIDR (/XX):** network size â†’ know how many IPs to scan  
- **Broadcast:** single IP for all hosts â†’ useful but detectable  

**Pentest rule:** discover network â†’ find services â†’ exploit vulnerabilities

---

## ğŸ” Ping Scans â€“ Why?

- Check if IP is alive before scanning â†’ saves time  
- Ping = â€œHello, are you there?â€  
- Reply â†’ host online, no reply â†’ offline or blocks pings  

**Ping types in Nmap:**  
- `-PE` â†’ ICMP Echo Request (root needed)  
- `-PP` â†’ ICMP Timestamp Request (root)  
- `-PM` â†’ ICMP Address Mask Request (root)  
- `-PS<port>` â†’ TCP SYN ping (no root)  
- `-PA<port>` â†’ TCP ACK ping (no root)  
- `-PU<port>` â†’ UDP ping (root)  
- `-PR` â†’ ARP request in LAN (root)  

**Root vs No Root:**  
- Root â†’ raw packets  
- No root â†’ TCP pings via connect()  
- ARP ping â†’ LAN only  

**Rule of thumb:** ping first â†’ then port scan â†’ saves time

---

â€œFirst find the hosts, then find the doors, then find the keys.â€ â€“ ctxzero

---

#nmap #hostdiscovery #ping #arp #cidr #broadcast #ports #network #pentesting #ctxzero #security
